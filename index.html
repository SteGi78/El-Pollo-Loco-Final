<!DOCTYPE html>
<html lang="de" translate="no">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta
      name="description"
      content="El Pollo Loco ‚Äì Jump & Run Game. Sammle Flaschen, weiche den H√ºhnern aus, und besiege den Endboss."
    />
    <title>El Pollo Loco</title>

    <link
      rel="icon"
      href="./img/7_statusbars/3_icons/icon_salsa_bottle.png"
      type="image/png"
    />

    <link rel="stylesheet" href="script.css" />

    <!-- Fallback f√ºr Screenreader-only Inhalte, falls externes CSS nicht l√§dt -->
    <style>
      .sr-only {
        position: absolute;
        left: -10000px;
        width: 1px;
        height: 1px;
        overflow: hidden;
      }
    </style>
  </head>

  <body class="game-page">
    <noscript>
      Bitte JavaScript aktivieren, um El Pollo Loco zu spielen.
    </noscript>

    <main>
      <div class="epl-wrap">
        <!-- Spielfeld -->
        <canvas
          id="canvas"
          width="720"
          height="480"
          tabindex="0"
          aria-label="Spielfl√§che"
          role="application"
        >
          Dein Browser unterst√ºtzt das Canvas-Element nicht. Bitte aktualisiere
          deinen Browser.
        </canvas>

        <!-- STARTSCREEN -->
        <section
          id="startScreen"
          class="screen"
          role="dialog"
          aria-modal="true"
          aria-labelledby="startScreenTitle"
          onclick="init()"
        >
          <div
            class="screen__inner"
            onclick="event.stopPropagation()"
            role="document"
          >
            <h1 id="startScreenTitle">Willkommen bei El Pollo Loco!</h1>

            <p>
              Sammle Flaschen, weiche den H√ºhnern aus, und besiege den Endboss.
            </p>

            <div class="start-actions">
              <button
                type="button"
                onclick="document.getElementById('instructionsDialog').showModal();"
              >
                Anleitung
              </button>

              <button type="button" onclick="init();">
                Spiel starten
              </button>
            </div>

            <p class="start-hint">
              Tipp: Du kannst auch einfach ins Spielfeld klicken oder tippen,
              um zu starten.
            </p>
          </div>
        </section>

        <!-- GAME OVER SCREEN -->
        <section
          id="gameOverScreen"
          class="screen"
          aria-hidden="true"
          hidden
        >
          <div class="screen__inner" role="document">
            <h2>Game Over</h2>
            <p id="gameOverMessage" class="gameover-msg">
              Du wurdest besiegt.
            </p>
            <div class="gameover-actions">
              <button type="button" onclick="restartGame();">
                Neu starten
              </button>
              <button type="button" onclick="returnToMenu();">
                Zur√ºck zum Hauptmen√º
              </button>
            </div>
          </div>
        </section>

        <!-- LIVE-REGION (Screenreader Status) -->
        <div
          id="sr-status"
          class="sr-only"
          aria-live="polite"
          aria-atomic="true"
        ></div>

        <!-- ROTATE NOTICE -->
        <div
          id="rotateNotice"
          role="alert"
          aria-live="assertive"
          hidden
        >
          Bitte drehe dein Ger√§t in die Waagerechte (Landscape), um zu spielen.
        </div>

        <!-- ANLEITUNG / STEUERUNG -->
        <dialog
          id="instructionsDialog"
          role="dialog"
          aria-modal="true"
          aria-labelledby="instrTitle"
        >
          <h2 id="instrTitle">Steuerung</h2>

          <p>
            <strong>Pfeiltasten</strong>: Links / Rechts bewegen<br />
            <strong>Leertaste</strong>: Springen<br />
            <strong>D</strong>: Flasche werfen
          </p>

          <p>
            Auf Touch-Ger√§ten kannst du unten die virtuellen Buttons benutzen.
          </p>

          <button
            type="button"
            onclick="document.getElementById('instructionsDialog').close()"
          >
            Schlie√üen
          </button>
        </dialog>

        <!-- MUTE BUTTON -->
        <button
          id="muteBtn"
          class="ui-btn"
          type="button"
          aria-label="Sound stumm schalten oder aktivieren"
          onclick="toggleMute()"
        >
          üîà
        </button>

        <!-- MOBILE CONTROLS -->
        <nav
          id="mobileControls"
          class="mobile-controls"
          aria-label="Mobile Steuerung"
        >
          <button
            id="btnLeft"
            class="mc-btn"
            type="button"
            aria-label="Nach links laufen"
          >
            ‚¨ÖÔ∏è
          </button>

          <button
            id="btnRight"
            class="mc-btn"
            type="button"
            aria-label="Nach rechts laufen"
          >
            ‚û°Ô∏è
          </button>

          <button
            id="btnJump"
            class="mc-btn"
            type="button"
            aria-label="Springen"
          >
            üîº
          </button>

          <button
            id="btnAction"
            class="mc-btn"
            type="button"
            aria-label="Flasche werfen"
          >
            üéØ
          </button>
        </nav>

        <!-- FOOTER / IMPRESSUM -->
        <footer class="footer-legal">
          <a href="impressum.html">Impressum</a>
        </footer>
      </div>
    </main>

    <!-- GAME SCRIPTS -->
    <script src="models/drawable-object.class.js" defer></script>
    <script src="models/moveable-object.class.js" defer></script>
    <script src="models/throwable-object.class.js" defer></script>
    <script src="models/character.class.js" defer></script>
    <script src="models/chicken.class.js" defer></script>
    <script src="models/chick.class.js" defer></script>
    <script src="models/snake.class.js" defer></script>
    <script src="models/endboss.class.js" defer></script>
    <script src="models/cloud.class.js" defer></script>
    <script src="models/background-object.class.js" defer></script>
    <script src="models/bottle.class.js" defer></script>
    <script src="models/coin.class.js" defer></script>
    <script src="models/status-bar.class.js" defer></script>
    <script src="models/bottle-bar.class.js" defer></script>
    <script src="models/coin-bar.class.js" defer></script>
    <script src="models/endboss-bar.class.js" defer></script>
    <script src="models/keyboard.class.js" defer></script>
    <script src="models/world.class.js" defer></script>
    <script src="models/level.class.js" defer></script>

    <script src="levels/level1.js" defer></script>

    <!-- Updated helpers -->
    <script src="js/sounds.js" defer></script>
    <script src="js/mobile-controls.js" defer></script>
    <script src="js/game-helpers.js" defer></script>

    <script src="js/preload.js" defer></script>
    <script src="js/event-listeners.js" defer></script>
    <script src="js/game.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/dpi.js" defer></script>
  </body>
</html>
